# Valargen Staging Environment Variables
# Copy to .env.staging and configure for your Azure VM

# ===========================================
# Domain Configuration
# ===========================================
# Your staging domain (must point to VM IP)
# For IP-only access, edit infra/staging/Caddyfile
DOMAIN=app.staging.valargen.com

# ===========================================
# Database
# ===========================================
# PostgreSQL via PgBouncer (running in Docker)
DATABASE_URL=postgresql://valargen:Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6I@pgbouncer:6432/valargen

POSTGRES_USER=valargen
POSTGRES_PASSWORD=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6I
POSTGRES_DB=valargen

# ===========================================
# Redis
# ===========================================
# Redis (running in Docker)
REDIS_URL=redis://redis:6379

# ===========================================
# Azure Storage Emulator
# ===========================================
# Azurite emulator (running in Docker)
STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;QueueEndpoint=http://azurite:10001/devstoreaccount1;BlobEndpoint=http://azurite:10000/devstoreaccount1

# ===========================================
# CORS
# ===========================================
CORS_ORIGINS=https://app.staging.valargen.com

# ===========================================
# Application
# ===========================================
ENVIRONMENT=staging
DEBUG=0
LOG_LEVEL=info

# ===========================================
# Twingate Configuration
# ===========================================
# Twingate connector for zero trust access and static IP
# Required for UWM API integration (static IP whitelisting)

# REQUIRED: Refresh token for Twingate connector (long-lived)
# Obtain from: Twingate Admin Console -> Networks -> Your Network -> Connectors -> Add Connector
TWINGATE_REFRESH_TOKEN=hUUP-c_Q2KLtEqI-H0o_VfD4dxwE80W1JJgDds5kwdUOK6jk6h7LQeUvxMlZS0QaFrWo2clZbQZh2A7vdDbjFvO9L3hsCnpe7R61XCmQGBpJHsNliagXyJD34ZGz3rl859n-bg

# REQUIRED: Access token for Twingate connector
# Obtain from: Twingate Admin Console -> Networks -> Your Network -> Connectors -> Add Connector
TWINGATE_ACCESS_TOKEN=eyJhbGciOiJFUzI1NiIsImtpZCI6IjhuUmNReEtEUjJSWmFRZGFfUUxnWUJvWFN6OWFOb0JxWUo4a0tqMm03YWsiLCJ0eXAiOiJEQVQifQ.eyJhdWRzIjpudWxsLCJudCI6IkFOIiwiYWlkIjoiNjgyMDA3IiwiZGlkIjoiMjc5MTgxNCIsInJudyI6MTc2NTY4MTU1NywianRpIjoiMjY4ZTU0NDgtODU1OC00YWYwLWFhMmEtMDBmYzVjMTdlODkyIiwiaXNzIjoidHdpbmdhdGUiLCJhdWQiOiJ2YWxhcmdlbiIsImV4cCI6MTc2NTY4NDkxMiwiaWF0IjoxNzY1NjgxMzEyLCJ2ZXIiOiI0IiwidGlkIjoiMTk2MzA1Iiwicm5ldGlkIjoiMjYxMTgwIn0.0pS03pl38E2w2-qY66YIry0UxzVXo5LpAN1qiJLs96G76hY3FfAx7qeVi0taJH7YaNTE4pqCq23L8xuTbZkxsg

# REQUIRED: Your Twingate network name
# Find in: Twingate Admin Console -> Networks
# Example: valargen-staging
TWINGATE_NETWORK=valargen

# OPTIONAL: Label for the connector (helps identify in admin console)
# Default: valargen-staging
TWINGATE_LABEL=valargen-staging

# OPTIONAL: Log level (1=error, 2=warn, 3=info, 4=debug, 5=trace)
# Default: 3 (info)
TWINGATE_LOG_LEVEL=3

# ===========================================
# Third-Party APIs (if needed)
# ===========================================
# BLAND_AI_API_KEY=your-api-key

# -----------------------------------------
# UWM Instant Price Quote API
# -----------------------------------------
# OAuth 2.0 authentication credentials (obtain from UWM)
# Token endpoint: https://sso.uwm.com/adfs/oauth2/token
# Bearer token expires: 1 hour, Refresh token expires: 16 hours
UWM_SSO_URL=https://sso.uwm.com/adfs/oauth2/token
UWM_API_URL=https://stg.api.uwm.com/instantpricequote/v1/pricequote
UWM_USERNAME=qa.apiuser@karthikmortgage.com
UWM_PASSWORD='MortgageStar1$$'
UWM_CLIENT_ID=https://186005e7-4960-4e30-84e0-dd78a23e2b94
UWM_CLIENT_SECRET=E4xSonoGqUbghJikHNkcXysn-NNArbc4nD4j3o94

# Environment determines OAuth scope:
# - dev: https://api.uwm.com/loanorigination-int
# - staging: https://api.uwm.com/loanorigination-stg
# - production: https://api.uwm.com/loanorigination
UWM_ENVIRONMENT=staging

# API request timeout in seconds
UWM_API_TIMEOUT=30

# Feature flag: Set to 1 to use real UWM API, 0 for mock responses
UWM_USE_REAL_API=1

# SOCKS5 proxy for UWM API (only used when ENVIRONMENT=development)
# In staging/production, this is ignored - uses direct connection with whitelisted IP
UWM_PROXY_URL=socks5://localhost:1080
