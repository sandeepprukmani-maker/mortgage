# Valargen Staging Environment Variables
# Copy to .env.staging and configure for your Azure VM

# ===========================================
# Domain Configuration
# ===========================================
# Your staging domain (must point to VM IP)
# For IP-only access, edit infra/staging/Caddyfile
DOMAIN=app.staging.valargen.com

# ===========================================
# Database
# ===========================================
# PostgreSQL credentials (change for production!)
POSTGRES_USER=valargen
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=valargen

# PostgreSQL via PgBouncer (running in Docker)
# NOTE: Update password to match POSTGRES_PASSWORD above
DATABASE_URL=postgresql://valargen:your-secure-password-here@pgbouncer:6432/valargen

# ===========================================
# Redis
# ===========================================
# Redis (running in Docker)
REDIS_URL=redis://redis:6379

# ===========================================
# Azure Storage Emulator
# ===========================================
# Azurite emulator (running in Docker)
STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;QueueEndpoint=http://azurite:10001/devstoreaccount1;BlobEndpoint=http://azurite:10000/devstoreaccount1

# ===========================================
# CORS
# ===========================================
CORS_ORIGINS=https://app.staging.valargen.com

# ===========================================
# Application
# ===========================================
ENVIRONMENT=staging
DEBUG=0
LOG_LEVEL=info

# ===========================================
# Twingate Configuration
# ===========================================
# Twingate connector for zero trust access and static IP
# Required for UWM API integration (static IP whitelisting)

# REQUIRED: Refresh token for Twingate connector (long-lived)
# Obtain from: Twingate Admin Console → Networks → Your Network → Connectors → Add Connector
# The refresh token is provided when you create/regenerate a connector
TWINGATE_REFRESH_TOKEN=your-connector-refresh-token-here

# OPTIONAL: Access token for Twingate connector (short-lived, auto-refreshed)
# Obtain from: Twingate Admin Console → Networks → Your Network → Connectors → Add Connector
TWINGATE_ACCESS_TOKEN=your-connector-access-token-here

# REQUIRED: Your Twingate network name
# Find in: Twingate Admin Console → Networks
# Example: valargen-staging
TWINGATE_NETWORK=your-network-name

# OPTIONAL: Label for the connector (helps identify in admin console)
# Default: valargen-staging
TWINGATE_LABEL=valargen-staging

# OPTIONAL: Log level (1=error, 2=warn, 3=info, 4=debug, 5=trace)
# Default: 3 (info)
TWINGATE_LOG_LEVEL=3

# ===========================================
# Google OAuth 2.0 (Optional)
# ===========================================
# If using Google Sign-In, set these in app/server/.env
# The staging compose will override GOOGLE_REDIRECT_URI and FRONTEND_URL
# to use the staging domain automatically.
#
# GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET must be set in app/server/.env
# Make sure to add the staging redirect URI to Google Cloud Console:
#   https://app.staging.valargen.com/api/auth/google/callback

# ===========================================
# Third-Party APIs (if needed)
# ===========================================
# BLAND_AI_API_KEY=your-api-key
